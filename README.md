# ADA-GAD 复现与可重复实验说明

## 1. 项目简介
本项目为论文《ADA-GAD: Anomaly-Denoised Autoencoders for Graph Anomaly Detection》的官方代码复现，支持在多个基准数据集上进行可重复实验，并对比原论文结果。

## 2. 环境配置
详见 requirements.txt，使用 conda 虚拟环境。

## 3. 数据集准备
将各数据集的 .pt 文件放置于 data/数据集名/数据集名.pt 路径下。

## 4. 运行方法

以 `reddit` 数据集为例，运行以下命令：

python main.py --use_cfg --seeds 0 --dataset reddit --device 0

## 5. 主要性能指标

**AUROC** (Area Under the ROC Curve): ROC曲线下的面积，衡量模型的整体排序能力，对正负样本比例不敏感。

**AUPRC** (Area Under the PR Curve): PR曲线下的面积，在类别不平衡的数据集上比AUROC更能反映模型性能。

**Rec@K** (Recall at K): Top-K召回率，衡量模型识别出的正样本占所有正样本的比例。

## 6. 原论文与复现结果对比

| 方法                | Cora   | Amazon | Weibo  | Reddit | Disney | Books  | Enron  |
|-------------------- |--------|--------|--------|--------|--------|--------|--------|
| ADA-GAD (原论文)    | 84.73±0.41 | 83.25±0.43 | 98.44±0.33 | 56.89±0.41 | 70.04±3.08 | 65.24±3.17 | 72.89±0.86 |
| 实验结果（AUROC）   |          |0.2092         |0.9239         | 0.5625        |         |         |         |
| 实验结果（AUPRC）   |          |0.0400         | 0.6631        |0.0386         |         |         |         |
| 实验结果（Rec@K）   |          |0.0000         | 0.0115        |0.0000         |         |         |         |

**注：** 复现结果与原论文在 Amazon、Weibo 数据集上存在显著差异，尤其是在 AUPRC 指标上。

## 7. 性能差异分析建议

复现结果与原论文结果存在差异是常见现象，可能的原因包括：

**随机种子 (Random Seed)**，不同的随机种子会影响模型初始化和数据划分，导致结果波动。

**依赖库版本 (Library Versions)**，如 PyTorch, DGL, Scikit-learn 等库的版本更新可能会改变底层实现，从而影响结果。

**数据预处理 (Data Preprocessing)**，特征归一化、图结构处理等步骤的微小差异都可能放大最终结果的差距。

**超参数设置 (Hyper-parameters)**，超参数设置不同。

**建议**：
尝试运行多次实验（例如使用不同的随机种子运行5-10次）并报告平均值和标准差。
如果可能，可以严格对齐论文中使用的所有库版本和超参数。

## 8. 复现实验与代码脚本

**复现实验结果**：详细的复现结果已在本 README 的表格中展示。

**相关脚本**：用于数据集格式转换的脚本和用于批量运行实验的脚本已包含在代码仓库中。
